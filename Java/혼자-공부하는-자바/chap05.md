# ch5. 참조 타입

## 자바 참조 타입과 참조 변수

핵심 키워드 : 기본 타입, 참조 타입, 메모리 사용 영역, 번지 비교, null, NullPointException

핵심 포인트 : 참조 타입의 종류와 참조 변수의 역할을 정확히 이해한다.

- **기본 타입** - 정수(byte, char, short, int, long), 실수(float, double), 논리(boolean)
- **참조 타입** - 객체(object)의 번지를 참조하는 타입, 배열, 열거, 클래스, 인터페이스.
- **기본 타입과 참조 타입**
    - 기본 타입 변수와 참조 타입 변수의 차이점
        - **기본 타입**
        - **참조 타입** : 참조 타입 변수는 힙 영역에 객체를 저장하고 번지수를 표현한다. 스택 영역에서는 타입 변수의 이름과 힙 영역의 번지수를 저장한다.
        
- **메모리 사용 영역**
    - 메소드 영역
        - 클래스별로
            - 정적 필드
            - 상수
            - 생성자
            - 메소드
            - 코드 등을 분류에 저장
        - 힙 영역
            - 객체와 배열이 생성되는 영역
        - JVM 스택 영역
            - 메소드가 호출되면 프레임이 추가되고,
            - 메소드가 종료되면 프레임이 제거됨.
    - JVM 스택 영역
        - 메소드를 호출할 때마다 프레임이 추가되고, 메소드가 종료되면 해당 프레임이 제거.
        
- **참조 변수 간의 ==, != 연산**
    - 동일 객체를 참조하는지, 다른 객체를 참조하는지 알아볼 때 사용
    - 번지 값의 비교 - 이 두번지가 참조하는 객체가 같으냐.
    
- **null과 NullPointerException**
    - 참조 타입 변수는 객체를 참조하지 않는다는 뜻으로 null 값을 가질 수 있음
        - null로 초기화된 참조 변수도 스택 영역에 생성
    - NullPointerException -
        - 컴퓨터는 에러와 익셉션을 구분해서 사용. 에러는 하드웨어 os에 문제 발생, 익셉션은 실행하는 도중 발생
        - 예외(Exception) : 프로그램 실행 도중 발생하는 오류
        - NullPointException
            - 참조 타입 변수가 null 상태에서 존재하지 않는 객체의 데이터나 메소드를 사용할 경우 발생
            - 해당 참조 변수가 객체를 참조하도록 수정하여 해결
            
- **String 타입**
    - String 변수에 문자열 리터럴을 대입할 경우
        - String 객체로 생성되고 변수가 String 객체를 참조
        - 문자열 리터럴 동일한 경우 같은 String 객체를 공유
    - new 연산자
        - 객체 생성 연산자
        - 힙 영역에 새로운 String 객체를 생성
        - 문자열 리터럴과 new 연산자로 생성된 객체 비교
            - 문자열 리터럴로 생성된 객체 != new 연산자로 생성된 객체
    - 문자열 비교
        - == : 번지 비교할 떄 사용, 문자열 비교할 때는 잘 사용 X
        - equals() : 문자열 비교할 때 사용, 스트링 객체가 다르더라도 문자열만 비교 가능
    - String 변수 초기값으로 null 대입 : String 변수가 참조하는 객체가 없음을 의미
    - 참조를 잃은 String 객체는 쓰레기 수집기 통해 메모리에서 자동 제거
    
- 키워드로 끝내는 핵심 포인트
    - 기본 타입 : byte, short, char, int, long, float, double, boolean 타입 - 변수에 값 자체를 저장
    - 참조 타입 : 기본 타입을 제외한 배열, 열거, 클래스, 인터페이스. - 변수에 객체의 번지 저장
    - 메모리 사용 영역 : JVM은 운영체제에서 할당받은 메모리 영역을 메소드 영역, 힙 영역, 스택 영역으로 구분해서 사용.
    - 번지 비교 : 비교 연산자(==,!=)가 기본 타입에서 사용되면 값을 비교하지만, 참조 타입에서 사용되면 번지를 비교
    - null : 참조 변수는 객체를 참조하지 않는다는 뜻으로 null 값을 가질 수 있음
    - NullPointException : 참조 변수가 null 일 때, 참조 변수를 통해 존재하지도 않는 객체를 사용하려고 할 경우에 발생

## 자바 배열

핵심 키워드 : **배열, 인덱스, 배열 길이, 배열 선언, 배열 생성, 다차원 배열, 향상된 for문**

핵심 포인트 : **많은 양의 데이터를 적은 코드를 처리하는 배열에 대해 알아본다.**

- 배열이란?
    - 배열
        - 데이터를 연속된 공간에 나열하고 각 데이터에 인덱스를 부여한 자료구조
        - 같은 타입의 데이터만 저장할 수 있음
        - 한 번 생성된 배열은 길이를 늘리거나 줄일 수 없음
        - Score 배열
        - for문을 이용한 배열 처리
- 배열 선언
    - 배열 변수 선언
        - int[] intArray;
        - double[] doubleArray;
        - String[] strArray;
        - Int intArray[]
        - Double doubleArray[];
        - String strArray[];
    - 참조할 배열 객체가 없는 경우 배열 변수는 null 값으로 초기화
        - `타입[] 변수 = null;`
- 배열 생성
    - 값 목록으로 배열 생성
        - `타입[] 변수 = { 값0, 값1, 값2, 값3, … }`
            - 배열 변수 선언한 뒤에는 다른 실행문에서 값 목록으로 배열 생성 불가능
            - 배열 변수 미리 선언한 후 값 목록이 나중에 결정되는 경우에는 new 연산자 사용하여 값 목록 지정할 수 있음.
    - new 연산자를 이용해서 배열 생성
        - int[] scores = new int[30];
        - 타입[] 변수 = new 타입[길이];
        - 배열 변수가 선언된 경우
            - `타입[] 변수 = null;`
            - `변수 = new 타입[길이];` ← [길이]의 배열을 만들어서 변수에 연결
        - new 연산자로 배열 처음 생성할 때 배열은 자동적으로 기본값으로 초기화됨(기본값은 기본타입은 0, 논리 타입은 false, 참조 타입은 null)
            - int 배열 : `int[] scores = new int[30];`
            - String 배열 : `String[] names = new String[30];`
        - 배열 생성 후 특정 인덱스에 새 값 저장 : `변수[0] = 83;`
        - 배열 길이 : 배열에 저장할 수 있는 전체 요소 수
            - `변수이름.length;`

- 명령 라인 입력
    - main() 메소드의 String[] args 매개변수
        - 실행할 때 명령라인 매개값을 주지 않았을 경우
            - 길이 0인 String 배열 생성 후 main() 메소드 호출
        - 실행할 때 명령라인 매개값을 주었을 경우
- 다차원 배열
    - 2차원 배열
        - 행렬 구조
            - int[][] scores = new int[2][3];
                - 구현 방법 : 1차원 배열이 다시 1차원 배열을 참조
        - 계단식 구조
            - int[][] scores = new int[2][];
            - scores[0] = new int[2];
            - scoes[1] = new int[3];
        - 값 목록을 이용한 2차원 배열 생성
            - 타입[][] 변수 = { {값1, 값2, …}, {값1, 값2, …}, …};
            - int[][] scores = { {0, 1, 2}, {3, 4, 5} };
            - int score = scores[0][0];
            - System.out.println(score);
- 객체를 참조하는 배열
    - 참조 타입 배열
        - 요소에 값(정수, 실수, 논리값)을 저장하지 않고, 객체의 번지를 가지고 있음
- 배열 복사
    - 배열 복사
        - for문을 이용해서 요소 하나 하나를 복사
        - System.arraycopy()를 이용한 복사
- 향상된 for문
    - 배열이나 컬렉션을 좀 더 쉽게 처리
    - 반복 실행 위해 루프 카운터 변수나 증감식을 사용하지 않음
- 키워드로 끝내는 핵심 포인트
    - 배열 : 같은 타입의 데이터를 연속된 공간에 나열하고, 각 데이터에 인덱스를 부여한 자료 구조
    - 인덱스 : 0부터 시작해 0~(배열길이-1)까지 범위를 가짐
    - 배열 선언 : 타입[] 변수; 형태로 선언
    - 배열 생성 : { 값1, 값2, 값3 } 과 같이 목록으로 생성하거나, new 타입[길이]; 로 생성
    - 배열 길이 : 배열에 저장될 수 있는 항목의 수. 배열변수.length
    - 다차원 배열 : 타입[][] 변수 = new 타입[길이1][길이2]; 로 생성
    - 향상된 for문 : for(타입 변수 : 배열) { … }

## 자바 열거 타입

핵심 키워드 : 열거 타입, 열거 타입 선언, 열거 상수, 열거 타입 변수

핵심 포인트 : 데이터 중에는 몇 가지로 한정된 값만을 갖는 경우가 있다. 이러한 한정된 값을 갖는 타입을 열거 타입이라고 한다. 

- 열거 타입
    - 열거 상수(한정된 값)를 저장하는 타입
        - week today;
        - today = Week.FRIDAY;
            - 한정된 값만 저장할 수 있음.
    - 열거 타입 선언
        - 1. 소스파일(.java) 생성
        - 2. 열거타입 선언
            - public enum 열거타입이름 { … }
        - 3. 열거 상수 선언
        - 4. 열거 상수는 열거 객체로 생성
        - 5. 열거 타입 변수 선언
        - 6. 열거 상수 저장
            - 열거타입 변수 = 열거타입.열거상수;